<div class="newsletter-form">

  {% form 'customer', id: "" %}
    {% if form.posted_successfully? %}
      <p class="success">
        {{ 'general.newsletter_form.success_text' | t }}
      </p>
    {% elsif form.errors %}
      {{ form.errors | default_errors }}
    {% endif %}

    {% if template contains "password" %}
      <input type="hidden" name="contact[tags]" value="prospect,password page"/>
    {% else %}
      <input type="hidden" name="contact[tags]" value="newsletter"/>
    {% endif %}

    <div class="newsletter-form__input-row">
      <div
        class="newsletter-form__top-half
        {% if display_first_name and display_last_name %}
          newsletter-form__both-names-enabled
        {% endif %}"
      >
        {% if display_first_name %}
          <input class="newsletter-form__first-name" type="text" name="contact[first_name]" aria-label="{{ 'general.newsletter_form.subscriber_first_name' | t }}" placeholder="{{ 'general.newsletter_form.subscriber_first_name' | t }}" />
        {% endif %}
        {% if display_last_name %}
          <input class="newsletter-form__last-name" type="text" name="contact[last_name]" aria-label="{{ 'general.newsletter_form.subscriber_last_name' | t }}" placeholder="{{ 'general.newsletter_form.subscriber_last_name' | t }}" />
        {% endif %}
      </div>

      <div class="newsletter-form__bottom-half">
        <input type="hidden" name="challenge" value="false">
        <input type="email" class="newsletter-form__contact-email" name="contact[email]" aria-label="{{ 'general.newsletter_form.placeholder' | t }}" required placeholder="{{ 'general.newsletter_form.placeholder' | t }}" autocorrect="off" autocapitalize="off" />
        <input type='submit' class="newsletter-form__sign-up" aria-label="{{ 'general.newsletter_form.submit' | t }}" value="{{ 'general.newsletter_form.submit' | t }}" />
      </div>
    </div>
  {% endform %}
</div>
