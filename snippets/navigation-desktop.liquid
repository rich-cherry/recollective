<ul
  class="main-nav"
  data-main-nav
>
  {% for link in linklists[section.settings.main_linklist].links %}
    {% assign has_tier_2 = false %}
    {% if link.links.size > 0 %}
      {% assign has_tier_2 = true %}
    {% endif %}

    <li
      class="main-nav__tier-1-item"
      {% if has_tier_2 %}data-main-nav-parent{% endif %}
    >
      <a
        href="{{ link.url }}"
        class="main-nav__tier-1-link"
        data-main-nav-link
        {% if has_tier_2 %}aria-haspopup="true"{% endif %}
      >
        {{ link.title | escape }}
        {% if has_tier_2 %}
          <svg width="10" height="6" viewBox="0 0 10 6" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9.35355 1.35355C9.54882 1.15829 9.54882 0.841709 9.35355 0.646447C9.15829 0.451184 8.84171 0.451184 8.64645 0.646447L9.35355 1.35355ZM5 5L4.64645 5.35355C4.84171 5.54882 5.15829 5.54882 5.35355 5.35355L5 5ZM1.35355 0.646447C1.15829 0.451184 0.841709 0.451184 0.646447 0.646447C0.451184 0.841709 0.451184 1.15829 0.646447 1.35355L1.35355 0.646447ZM8.64645 0.646447L4.64645 4.64645L5.35355 5.35355L9.35355 1.35355L8.64645 0.646447ZM5.35355 4.64645L1.35355 0.646447L0.646447 1.35355L4.64645 5.35355L5.35355 4.64645Z" fill="currentColor"/>
          </svg>
        {% endif %}
      </a>

      {% if has_tier_2 %}
        <ul
          class="main-nav__tier-2"
          data-main-nav-submenu
        >
          {% for link_tier_2 in link.links %}
            {% assign has_tier_3 = false %}
            {% if link_tier_2.links.size > 0 %}
              {% assign has_tier_3 = true %}
            {% endif %}
            <li
              class="main-nav__tier-2-item"
              {% if has_tier_3 %}data-main-nav-parent{% endif %}
            >
              <a
                href="{{ link_tier_2.url }}"
                class="main-nav__tier-2-link"
                data-main-nav-link
                {% if has_tier_3 %}aria-haspopup="true"{% endif %}
              >
                <span>{{ link_tier_2.title | escape }}</span>
                {% if has_tier_3 %}
                  <svg width="6" height="10" viewBox="0 0 6 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1.35355 0.646447C1.15829 0.451184 0.841709 0.451184 0.646447 0.646447C0.451184 0.841709 0.451184 1.15829 0.646447 1.35355L1.35355 0.646447ZM5 5L5.35355 5.35355C5.54882 5.15829 5.54882 4.84171 5.35355 4.64645L5 5ZM0.646447 8.64645C0.451184 8.84171 0.451184 9.15829 0.646447 9.35355C0.841709 9.54882 1.15829 9.54882 1.35355 9.35355L0.646447 8.64645ZM0.646447 1.35355L4.64645 5.35355L5.35355 4.64645L1.35355 0.646447L0.646447 1.35355ZM4.64645 4.64645L0.646447 8.64645L1.35355 9.35355L5.35355 5.35355L4.64645 4.64645Z" fill="currentColor"/>
                  </svg>
                {% endif %}
              </a>
              {% if has_tier_3 %}
                <ul
                  class="main-nav__tier-3"
                  data-main-nav-submenu
                  data-navigation-tier-3
                >
                  {% for link_tier_3 in link_tier_2.links %}
                    <li
                      class="main-nav__tier-3-item"
                    >
                      <a
                        href="{{ link_tier_3.url }}"
                        class="main-nav__tier-3-link"
                      >
                        <span>{{ link_tier_3.title | escape }}</span>
                      </a>
                    </li>
                  {% endfor %}
                </ul>
              {% endif %}
            </li>
          {% endfor %}
        </ul>
      {% endif %}
    </li>
  {% endfor %}
</ul>
