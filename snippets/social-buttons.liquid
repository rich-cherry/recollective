{% capture current_url %}{% if context == 'article' %}{{ shop.url }}{{ article.url }}{% else %}{{ canonical_url }}{% endif %}{% endcapture %}

{% capture buttons %}
<div class="social-buttons__wrapper">
  {{ 'layout.social_sharing.title' | t }}:

  {% capture title %}{% if context == 'article' %}{{ article.title | strip_html }}{% else %}{{ product.title | strip_html }}{% endif %}{% endcapture %}

  {% capture twitter_name %}{{ settings.twitter_link | split: 'twitter.com/' | last }}{% endcapture %}

  <div class="social-buttons">
    <a href="https://twitter.com/intent/tweet?text={{ title | replace: '&','%26' }}&url={{ current_url }}{%- if twitter_name != blank -%}&via={{ twitter_name }}{%- endif -%}" target="_blank" class="icon-twitter" title="{{ 'layout.social_sharing.twitter_title' | t }}">
      <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M20 3.89468C19.4351 4.71404 18.7571 5.40866 17.9662 5.97853C17.9662 6.03442 17.9731 6.12134 17.987 6.23926C18.0009 6.35719 18.0078 6.4441 18.0078 6.5C18.0078 7.58316 17.8452 8.66667 17.5201 9.75051C17.195 10.8344 16.7008 11.8691 16.0374 12.8548C15.3741 13.8405 14.5866 14.7154 13.6751 15.4795C12.7635 16.2437 11.669 16.8548 10.3915 17.3129C9.11394 17.771 7.7404 18 6.27086 18C3.98267 18 1.89238 17.3957 0 16.1871C0.395806 16.2151 0.720562 16.229 0.974266 16.229C2.88121 16.229 4.58331 15.6595 6.08058 14.5204C5.19054 14.5068 4.39615 14.2396 3.69743 13.7188C2.9987 13.198 2.50793 12.5279 2.22511 11.7086C2.46495 11.7645 2.72628 11.7924 3.0091 11.7924C3.39035 11.7924 3.75045 11.7369 4.08942 11.6258C3.14323 11.4315 2.35924 10.9663 1.73746 10.2301C1.11567 9.49386 0.804783 8.64656 0.804783 7.68814V7.64622C1.3413 7.92433 1.95581 8.07703 2.6483 8.10429C2.09722 7.74301 1.65947 7.26721 1.33507 6.67689C1.01066 6.08657 0.848107 5.45126 0.847414 4.77096C0.847414 4.07635 1.02383 3.39571 1.37666 2.72904C2.40742 3.99284 3.65376 4.98943 5.11567 5.71881C6.57759 6.44819 8.1629 6.85446 9.87159 6.93763C9.77246 6.59066 9.7229 6.28493 9.7229 6.02045C9.7229 4.90934 10.1253 3.96149 10.9301 3.17689C11.7349 2.3923 12.7164 2 13.8747 2C14.4396 2 14.9834 2.11111 15.5061 2.33333C16.0288 2.55556 16.4738 2.8681 16.8412 3.27096C17.7735 3.09032 18.6421 2.7638 19.4468 2.29141C19.1502 3.2362 18.5499 3.97921 17.646 4.52045C18.5076 4.40934 19.2916 4.20109 19.9979 3.89571L20 3.89468Z" fill="currentColor"/>
      </svg>
    </a>

    <a href="https://www.facebook.com/sharer/sharer.php?u={{ current_url }}" target="_blank" class="icon-facebook" title="{{ 'layout.social_sharing.facebook_title' | t }}">
      <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0)"><path d="M0.00195312 10.002C0.00311667 14.9214 3.58036 19.1101 8.43895 19.881V12.892H5.90195V10.002H8.44195V7.80204C8.32841 6.75958 8.68447 5.72064 9.41359 4.96698C10.1427 4.21332 11.1693 3.82306 12.215 3.90204C12.9655 3.91417 13.7141 3.98101 14.455 4.10205V6.56104H13.191C12.7558 6.50405 12.3183 6.64777 12.0017 6.95171C11.6851 7.25566 11.5237 7.68693 11.563 8.12404V10.002H14.334L13.891 12.893H11.563V19.881C16.8174 19.0506 20.502 14.2518 19.9475 8.96112C19.3929 3.67041 14.7932 -0.260027 9.48078 0.0172227C4.16831 0.294472 0.0027976 4.68235 0.00195312 10.002Z" fill="currentColor"/></g>
        <defs><clipPath id="clip0"><rect width="20" height="20" fill="white"/></clipPath></defs>
      </svg>
    </a>

    {% if context == 'article' %}
      <a target="_blank" data-pin-do="skipLink" class="icon-pinterest" title="{{ 'layout.social_sharing.pinterest_title' | t }}" href="http://pinterest.com/pin/create/button/?url={{ current_url }}&description={{ article.content | strip_html | truncate: 240 }}&media={% if article.image %}{{ article.image | img_url: '600x' }}{% else %}{% assign my_image_url=article.content | escape %}{% if my_image_url contains '&lt;img' %}{% assign my_image_url = my_image_url | split: 'src=&quot;' %}{% assign my_image_url = my_image_url[1] | split: '&quot;' %}{% assign my_image_url = my_image_url[0] | remove: '//cdn' %}{% assign my_image_url = my_image_url | remove: 'http:http://' %}{% assign my_image_url = my_image_url | remove: 'https:' %}{{ my_image_url | prepend: 'http://cdn'}}{% endif %}{% endif %}">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M9.95784 0.811059C11.2265 0.811059 12.4382 1.05906 13.5928 1.55506C14.7475 2.05106 15.7435 2.71773 16.5808 3.55506C17.4182 4.39239 18.0848 5.38839 18.5808 6.54306C19.0768 7.69773 19.3248 8.90939 19.3248 10.1781C19.3248 11.8694 18.9062 13.4347 18.0688 14.8741C17.2315 16.3134 16.0932 17.4517 14.6538 18.2891C13.2145 19.1264 11.6492 19.5451 9.95784 19.5451C9.03118 19.5451 8.14484 19.4231 7.29884 19.1791C7.77018 18.4144 8.08718 17.7394 8.24984 17.1541L8.90884 14.5931C9.07151 14.9017 9.37251 15.1741 9.81184 15.4101C10.2512 15.6461 10.7145 15.7641 11.2018 15.7641C12.1778 15.7641 13.0518 15.4834 13.8238 14.9221C14.5958 14.3607 15.1935 13.5924 15.6168 12.6171C16.0402 11.6417 16.2515 10.5441 16.2508 9.32406C16.2508 7.87673 15.6938 6.62039 14.5798 5.55506C13.4658 4.48973 12.0468 3.95706 10.3228 3.95706C9.26551 3.95706 8.29784 4.13606 7.41984 4.49406C6.54184 4.85206 5.83451 5.31973 5.29784 5.89706C4.76118 6.47439 4.35051 7.10039 4.06584 7.77506C3.78118 8.44973 3.63884 9.12873 3.63884 9.81206C3.63884 10.6574 3.79751 11.3974 4.11484 12.0321C4.43218 12.6667 4.90784 13.1141 5.54184 13.3741C5.65584 13.4227 5.75351 13.4267 5.83484 13.3861C5.91618 13.3454 5.97318 13.2681 6.00584 13.1541C6.11984 12.7474 6.18484 12.4954 6.20084 12.3981C6.26618 12.2194 6.22551 12.0487 6.07884 11.8861C5.65618 11.4147 5.44484 10.8047 5.44484 10.0561C5.44484 8.82006 5.87184 7.75906 6.72584 6.87306C7.57984 5.98706 8.69784 5.54406 10.0798 5.54406C11.2998 5.54406 12.2512 5.87739 12.9338 6.54406C13.6165 7.21073 13.9582 8.08073 13.9588 9.15406C13.9588 10.0487 13.8368 10.8741 13.5928 11.6301C13.3488 12.3861 12.9992 12.9917 12.5438 13.4471C12.0885 13.9024 11.5682 14.1301 10.9828 14.1301C10.4948 14.1301 10.0965 13.9511 9.78784 13.5931C9.47918 13.2351 9.38151 12.8121 9.49484 12.3241C9.56018 12.0961 9.64551 11.8034 9.75084 11.4461C9.85618 11.0887 9.94551 10.7837 10.0188 10.5311C10.0922 10.2784 10.1612 10.0061 10.2258 9.71406C10.2905 9.42206 10.3232 9.17806 10.3238 8.98206C10.3238 8.57539 10.2182 8.24206 10.0068 7.98206C9.79551 7.72206 9.48651 7.59206 9.07984 7.59206C8.57584 7.59206 8.15284 7.82373 7.81084 8.28706C7.46884 8.75039 7.29818 9.33173 7.29884 10.0311C7.29884 10.2911 7.31918 10.5431 7.35984 10.7871C7.40051 11.0311 7.44518 11.2101 7.49384 11.3241L7.56684 11.4951C6.90018 14.3897 6.49351 16.0891 6.34684 16.5931C6.21684 17.2111 6.16818 17.9347 6.20084 18.7641C4.52551 18.0161 3.17151 16.8694 2.13884 15.3241C1.10618 13.7787 0.589844 12.0631 0.589844 10.1771C0.589844 7.59106 1.50451 5.38339 3.33384 3.55406C5.16318 1.72473 7.37084 0.810059 9.95684 0.810059L9.95784 0.811059Z" fill="currentColor"/>
        </svg>
      </a>
    {% else %}
      <a target="_blank" data-pin-do="skipLink" class="icon-pinterest" title="{{ 'layout.social_sharing.pinterest_title' | t }}" href="https://pinterest.com/pin/create/button/?url={{ current_url }}&description={{ title | strip_html | truncate: 240 }}&media=https:{{ product.featured_image.src | product_img_url: '600x' }}">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M9.95784 0.811059C11.2265 0.811059 12.4382 1.05906 13.5928 1.55506C14.7475 2.05106 15.7435 2.71773 16.5808 3.55506C17.4182 4.39239 18.0848 5.38839 18.5808 6.54306C19.0768 7.69773 19.3248 8.90939 19.3248 10.1781C19.3248 11.8694 18.9062 13.4347 18.0688 14.8741C17.2315 16.3134 16.0932 17.4517 14.6538 18.2891C13.2145 19.1264 11.6492 19.5451 9.95784 19.5451C9.03118 19.5451 8.14484 19.4231 7.29884 19.1791C7.77018 18.4144 8.08718 17.7394 8.24984 17.1541L8.90884 14.5931C9.07151 14.9017 9.37251 15.1741 9.81184 15.4101C10.2512 15.6461 10.7145 15.7641 11.2018 15.7641C12.1778 15.7641 13.0518 15.4834 13.8238 14.9221C14.5958 14.3607 15.1935 13.5924 15.6168 12.6171C16.0402 11.6417 16.2515 10.5441 16.2508 9.32406C16.2508 7.87673 15.6938 6.62039 14.5798 5.55506C13.4658 4.48973 12.0468 3.95706 10.3228 3.95706C9.26551 3.95706 8.29784 4.13606 7.41984 4.49406C6.54184 4.85206 5.83451 5.31973 5.29784 5.89706C4.76118 6.47439 4.35051 7.10039 4.06584 7.77506C3.78118 8.44973 3.63884 9.12873 3.63884 9.81206C3.63884 10.6574 3.79751 11.3974 4.11484 12.0321C4.43218 12.6667 4.90784 13.1141 5.54184 13.3741C5.65584 13.4227 5.75351 13.4267 5.83484 13.3861C5.91618 13.3454 5.97318 13.2681 6.00584 13.1541C6.11984 12.7474 6.18484 12.4954 6.20084 12.3981C6.26618 12.2194 6.22551 12.0487 6.07884 11.8861C5.65618 11.4147 5.44484 10.8047 5.44484 10.0561C5.44484 8.82006 5.87184 7.75906 6.72584 6.87306C7.57984 5.98706 8.69784 5.54406 10.0798 5.54406C11.2998 5.54406 12.2512 5.87739 12.9338 6.54406C13.6165 7.21073 13.9582 8.08073 13.9588 9.15406C13.9588 10.0487 13.8368 10.8741 13.5928 11.6301C13.3488 12.3861 12.9992 12.9917 12.5438 13.4471C12.0885 13.9024 11.5682 14.1301 10.9828 14.1301C10.4948 14.1301 10.0965 13.9511 9.78784 13.5931C9.47918 13.2351 9.38151 12.8121 9.49484 12.3241C9.56018 12.0961 9.64551 11.8034 9.75084 11.4461C9.85618 11.0887 9.94551 10.7837 10.0188 10.5311C10.0922 10.2784 10.1612 10.0061 10.2258 9.71406C10.2905 9.42206 10.3232 9.17806 10.3238 8.98206C10.3238 8.57539 10.2182 8.24206 10.0068 7.98206C9.79551 7.72206 9.48651 7.59206 9.07984 7.59206C8.57584 7.59206 8.15284 7.82373 7.81084 8.28706C7.46884 8.75039 7.29818 9.33173 7.29884 10.0311C7.29884 10.2911 7.31918 10.5431 7.35984 10.7871C7.40051 11.0311 7.44518 11.2101 7.49384 11.3241L7.56684 11.4951C6.90018 14.3897 6.49351 16.0891 6.34684 16.5931C6.21684 17.2111 6.16818 17.9347 6.20084 18.7641C4.52551 18.0161 3.17151 16.8694 2.13884 15.3241C1.10618 13.7787 0.589844 12.0631 0.589844 10.1771C0.589844 7.59106 1.50451 5.38339 3.33384 3.55406C5.16318 1.72473 7.37084 0.810059 9.95684 0.810059L9.95784 0.811059Z" fill="currentColor"/>
        </svg>
      </a>
    {% endif %}

    <a href="mailto:?subject={{ 'layout.social_sharing.email_subject' | t: title: title }}&amp;body={{ 'layout.social_sharing.email_message' | t: title: title, name: shop.name }}%0D%0A%0D%0A{{ current_url }}" class="icon-email" title="{{ 'layout.social_sharing.email_title' | t }}">
      <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M1.0132 7.15129C1 7.69022 1 8.30205 1 9V11C1 13.8284 1 15.2426 1.87868 16.1213C2.75736 17 4.17157 17 7 17H13C15.8284 17 17.2426 17 18.1213 16.1213C19 15.2426 19 13.8284 19 11V9C19 8.30205 19 7.69022 18.9868 7.15129L10.9713 11.6044C10.3672 11.9399 9.63276 11.9399 9.02871 11.6044L1.0132 7.15129ZM1.24297 5.02971C1.32584 5.05052 1.4074 5.08237 1.48564 5.12584L10 9.85604L18.5144 5.12584C18.5926 5.08237 18.6742 5.05052 18.757 5.02971C18.6271 4.55619 18.4276 4.18491 18.1213 3.87868C17.2426 3 15.8284 3 13 3H7C4.17157 3 2.75736 3 1.87868 3.87868C1.57245 4.18491 1.37294 4.55619 1.24297 5.02971Z" fill="currentColor"/>
      </svg>
    </a>
  </div>
</div>

{% endcapture %}

{{ buttons }}
